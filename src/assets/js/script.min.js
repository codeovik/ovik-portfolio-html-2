gsap.registerPlugin(SplitText,ScrollTrigger);let primaryColor=getComputedStyle(document.documentElement).getPropertyValue("--primary-color").trim();const html=document.documentElement;"dark"===localStorage.getItem("theme")&&html.classList.add("dark"),document.getElementById("darkToggle").addEventListener("click",(()=>{html.classList.toggle("dark"),html.classList.contains("dark")?localStorage.setItem("theme","dark"):localStorage.setItem("theme","light")})),document.addEventListener("mousemove",(e=>{document.querySelector("#cursorFollower").classList.add("lg:opacity-100"),gsap.to("#cursorFollower",{x:e.clientX-6,y:e.clientY-6,duration:1.1,ease:"power2.out"})})),document.querySelectorAll("button, a").forEach((e=>{e.addEventListener("mousemove",(e=>{gsap.to("#cursorFollower",{scale:0})})),e.addEventListener("mouseleave",(e=>{gsap.to("#cursorFollower",{scale:1})}))})),document.querySelectorAll("#portfolio article img").forEach((e=>{e.addEventListener("mousemove",(e=>{document.querySelector("#cursorFollower").innerHTML='<p class="text-[3px] absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2">View More</p>',gsap.to("#cursorFollower",{scale:6,backdropFilter:"blur(4px)",backgroundColor:primaryColor+"50"})})),e.addEventListener("mouseleave",(e=>{document.querySelector("#cursorFollower").innerHTML="",gsap.to("#cursorFollower",{scale:1,backdropFilter:"blur(0px)",backgroundColor:"rgba(255, 255, 255, 0.5)"})}))})),gsap.to(".bgCursor",{rotate:360,duration:5,repeat:-1,ease:"linear"}),document.addEventListener("mousemove",(e=>{gsap.to(".bgCursor",{x:e.clientX-200,y:e.clientY-200,duration:30,ease:"power2.out"})}));const lenis=new Lenis({duration:1,easing:e=>e*(2-e),smooth:!0});function raf(e){lenis.raf(e),requestAnimationFrame(raf)}requestAnimationFrame(raf);const goTopBtn=document.getElementById("goTopBtn"),scrollProgress=document.getElementById("scrollProgress");function revealSection(e,t={}){ScrollReveal().reveal(e,{origin:"bottom",distance:"40px",duration:500,opacity:0,easing:"ease-in-out",interval:150,reset:!0})}lenis.on("scroll",(()=>{const e=lenis.scroll,t=e/(document.documentElement.scrollHeight-window.innerHeight)*100;scrollProgress.style.height=`${t}%`,e>250?(goTopBtn.classList.remove("opacity-0","translate-y-10","pointer-events-none"),goTopBtn.classList.add("opacity-100","translate-y-0","pointer-events-auto")):(goTopBtn.classList.add("opacity-0","translate-y-10","pointer-events-none"),goTopBtn.classList.remove("opacity-100","translate-y-0","pointer-events-auto"))})),goTopBtn.addEventListener("click",(()=>{lenis.scrollTo(0,{duration:1.5,easing:e=>e*(2-e)})}));let menuTimeLine=gsap.timeline();menuTimeLine.to("#menuContainer",{backdropFilter:"blur(10px)",duration:.3,onStart:()=>{menuContainer.classList.add("pointer-events-auto"),menuContainer.classList.remove("pointer-events-none")},onReverseComplete:()=>{menuContainer.classList.remove("pointer-events-auto"),menuContainer.classList.add("pointer-events-none")}}),menuTimeLine.to("#menuBar",{right:0,duration:.2},"<"),menuTimeLine.to("#toggleMenu span:nth-of-type(1)",{rotation:45,top:"50%",transformOrigin:"50% 50%"},"<"),menuTimeLine.to("#toggleMenu span:nth-of-type(2)",{rotation:-45,top:"50%",transformOrigin:"50% 50%"},"<"),menuTimeLine.from("#menuBar button",{y:30,opacity:0,duration:.05}),menuTimeLine.from("#menuBar p:nth-of-type(1)",{y:30,opacity:0,duration:.05}),menuTimeLine.from("#menuBar ul li",{y:30,stagger:.04,opacity:0,duration:.5}),menuTimeLine.from("#menuBar p:nth-of-type(2)",{y:30,opacity:0,duration:.05}),menuTimeLine.from("#menuBar div a",{opacity:0,y:30,stagger:.04,duration:.05}),menuTimeLine.reverse(),document.getElementById("toggleMenu").addEventListener("click",(()=>{menuTimeLine.reversed()?lenis.stop():lenis.start(),menuTimeLine.reversed()?menuTimeLine.play():menuTimeLine.reverse(),menuTimeLine.reversed()?document.body.classList.remove("overflow-y-hidden"):document.body.classList.add("overflow-y-hidden")})),document.getElementById("menuContainer").addEventListener("click",(()=>{menuTimeLine.reverse(),lenis.start(),document.body.classList.remove("overflow-y-hidden")}));let links=document.querySelectorAll("nav ul li a");const sections=document.querySelectorAll("section, header");window.addEventListener("scroll",(()=>{let e=window.scrollY+150;sections.forEach(((t,o)=>{e>=t.offsetTop&&e<t.offsetTop+t.offsetHeight&&(links.forEach((e=>e.classList.remove("active-nav-links"))),links[o].classList.add("active-nav-links"))}))}));var typed=new Typed("#typewriter",{strings:["Web Developer","U/X Desiner","Video Editor"],typeSpeed:100,backSpeed:50,backDelay:1e3,loop:!0,showCursor:!0,cursorChar:"_"});document.fonts.ready.then((()=>{gsap.from(new SplitText("header h1",{type:"chars"}).chars,{x:100,opacity:0,stagger:.1,duration:1,ease:"back.out(1.7)",scrollTrigger:{trigger:"h1",toggleActions:"play none none reverse"}}),gsap.from("header h2",{opacity:0,x:100,delay:1}),gsap.from(new SplitText("header p",{type:"lines"}).lines,{x:100,opacity:0,stagger:.3,duration:1,delay:1.6,ease:"back.out(1.7)",scrollTrigger:{trigger:"h1",toggleActions:"play none none reverse"}}),gsap.from("header div div:nth-of-type(1) a",{opacity:0,delay:2.7,stagger:.2,duration:.3,x:100}),gsap.set("header div div:nth-of-type(2) a",{opacity:0,x:100}),gsap.to("header div div:nth-of-type(2) a",{opacity:1,delay:2.9,stagger:.2,duration:.3,x:0})})),document.getElementById("introVideoPopUpBtn").addEventListener("click",(()=>{document.getElementById("introVideoPopUp").classList.remove("hidden")})),document.querySelector("#introVideoPopUp button").addEventListener("click",(()=>{document.getElementById("introVideoPopUp").classList.add("hidden")})),document.querySelectorAll("[data-target-number]").forEach((function(e){var t=(e.getAttribute("data-target-number")||"").trim();if(t){var o=t.replace(/[^0-9.\-]/g,""),r=parseFloat(o||"0"),n=t.match(/^[^\d\-\.]+/),a=n?n[0]:"",i=t.replace(/^[^\d\-\.]*/,"").replace(/-?\d[\d,]*(?:\.\d+)?/,""),s=(e.textContent||"").trim().replace(/[^0-9.\-]/g,"");if(""===s&&(s="0"),e.textContent="",a){var c=document.createElement("span");c.className="odo-prefix",c.textContent=a,e.appendChild(c)}var l=document.createElement("span");if(l.className="odometer",l.textContent=s,e.appendChild(l),i){var d=document.createElement("span");d.className="odo-suffix",d.textContent=i,e.appendChild(d)}var p=new Odometer({el:l,value:parseFloat(s),duration:+e.getAttribute("data-duration")||2e3,format:e.getAttribute("data-format")||"(,ddd).dd"});ScrollTrigger.create({trigger:e,toggleActions:"play none reset none",onEnter:function(){p.update(r)},onLeaveBack:function(){p.update(s)}})}})),gsap.from(new SplitText("#achievements h2",{type:"words, chars"}).chars,{stagger:.1,opacity:.3,scrollTrigger:{trigger:"#achievements h2",start:"top 80%",end:"top 15%",scrub:1}});var swiper=new Swiper(".logo-slide",{watchSlidesProgress:!0,slidesPerView:"auto",loop:!0,spaceBetween:40,autoplay:{delay:1e3,disableOnInteraction:!1}});function openVideoModal(e){document.querySelector("#portfolioPopUpModal iframe").src="https://www.youtube.com/embed/"+e.getAttribute("data-youtube-video-embed-key"),document.getElementById("portfolioPopUpModal").classList.remove("hidden")}function closeVideo(){document.getElementById("portfolioPopUpModal").classList.add("hidden"),document.querySelector("#portfolioPopUpModal iframe").src=""}gsap.from(new SplitText("#colaborate h2",{type:"words, chars"}).chars,{stagger:.1,opacity:.3,scrollTrigger:{trigger:"#colaborate h2",start:"top 80%",end:"top 15%",scrub:1}}),gsap.matchMedia().add("(min-width: 1024px)",(()=>{ScrollTrigger.create({trigger:"#exprience .main-content",start:"top-=40 top",end:"bottom bottom",pin:"#exprience .text-content",pinSpacing:!1})})),gsap.from(new SplitText("#exprience h2",{type:"words, chars"}).chars,{stagger:.1,opacity:.3,scrollTrigger:{trigger:"#exprience h2",start:"top 80%",end:"top 5%",scrub:1}}),revealSection("#exprience .main-content .content"),gsap.matchMedia().add("(min-width: 1024px)",(()=>{ScrollTrigger.create({trigger:"#portfolio .main-content",start:"top-=40 top",end:"bottom bottom",pin:"#portfolio .text-content",pinSpacing:!1})})),gsap.from(new SplitText("#portfolio h2",{type:"words, chars"}).chars,{stagger:.1,opacity:.3,scrollTrigger:{trigger:"#portfolio h2",start:"top 80%",end:"top 5%",scrub:1}}),gsap.utils.toArray("#portfolio article").forEach((e=>{let t=e.querySelector("img"),o=e.querySelector("div");gsap.to(t,{y:-(t.offsetHeight-o.offsetHeight),ease:"none",scrollTrigger:{trigger:e,start:"top bottom",end:"bottom top",scrub:!0}})})),document.querySelectorAll("#portfolio article a").forEach((e=>{e.addEventListener("click",(function(e){e.preventDefault()}))})),gsap.matchMedia().add("(min-width: 1024px)",(()=>{ScrollTrigger.create({trigger:"#plan .main-content",start:"top-=40 top",end:"bottom bottom",pin:"#plan .text-content",pinSpacing:!1})})),gsap.from(new SplitText("#plan h2",{type:"words, chars"}).chars,{stagger:.1,opacity:.3,scrollTrigger:{trigger:"#plan h2",start:"top 80%",end:"top 5%",scrub:1}}),document.querySelectorAll("#plan button").forEach((e=>{e.addEventListener("click",(()=>{document.querySelectorAll("#plan button").forEach((e=>{e.classList.remove("bg-primary")})),e.classList.add("bg-primary"),document.querySelectorAll("#plan .card").forEach((e=>e.classList.add("hidden")));const t=e.getAttribute("data-target");document.getElementById(t).classList.remove("hidden")}))})),gsap.matchMedia().add("(min-width: 1024px)",(()=>{ScrollTrigger.create({trigger:"#testimonial .main-content",start:"top-=40 top",end:"bottom bottom",pin:"#testimonial .text-content",pinSpacing:!1})})),gsap.from(new SplitText("#testimonial h2",{type:"words, chars"}).chars,{stagger:.3,opacity:.3,scrollTrigger:{trigger:"#testimonial h2",start:"top 80%",end:"top 5%",scrub:1}});swiper=new Swiper(".testimonial-slide",{effect:"cards",grabCursor:!0,loop:!0,spaceBetween:40,autoplay:{delay:2e3,disableOnInteraction:!1}});gsap.matchMedia().add("(min-width: 1024px)",(()=>{ScrollTrigger.create({trigger:"#tech-stack .main-content",start:"top-=40 top",end:"bottom bottom",pin:"#tech-stack .text-content",pinSpacing:!1})})),gsap.from(new SplitText("#tech-stack h2",{type:"words, chars"}).chars,{stagger:.1,opacity:.3,scrollTrigger:{trigger:"#tech-stack h2",start:"top 80%",end:"top 5%",scrub:1}}),revealSection("#tech-stack .main-content div"),document.querySelector("form a").addEventListener("click",(function(e){e.preventDefault();const t=document.querySelectorAll("form input, form textarea"),o={};t.forEach(((e,t)=>{const r=e.placeholder||`field${t}`;o[r]=e.value})),localStorage.setItem("contactDraft",JSON.stringify(o)),document.getElementById("formPopup").classList.remove("hidden")})),document.querySelector("#formPopup button").addEventListener("click",(()=>{document.getElementById("formPopup").classList.add("hidden")}));const saved=localStorage.getItem("contactDraft");if(saved){const e=JSON.parse(saved);document.querySelectorAll("form input, form textarea").forEach(((t,o)=>{const r=t.placeholder||`field${o}`;e[r]&&(t.value=e[r])}))}gsap.from(new SplitText("#contact h2",{type:"words, chars"}).chars,{stagger:.1,opacity:.3,scrollTrigger:{trigger:"#contact h2",start:"top 80%",end:"top 15%",scrub:1}}),revealSection("form input, form textarea"),document.querySelector("form").addEventListener("submit",(function(e){e.preventDefault();const t=new FormData(document.querySelector("form"));fetch("https://formsubmit.co/ajax/ovikbiswas01@gmail.com",{method:"POST",body:t,headers:{Accept:"application/json"}}).then((e=>e.json())).then((e=>{document.getElementById("formSubmitSuccess").classList.remove("hidden"),document.querySelector("#formSubmitSuccess button").addEventListener("click",(()=>{document.getElementById("formSubmitSuccess").classList.add("hidden")})),localStorage.removeItem("contactDraft"),document.querySelector("form").reset()})).catch((e=>{alert("Something went wrong! Please see the console for more info."),console.error(e)}))})),gsap.matchMedia().add("(min-width: 1024px)",(()=>{ScrollTrigger.create({trigger:"#faq .main-content",start:"top-=40 top",end:"bottom bottom",pin:"#faq .text-content",pinSpacing:!1})})),gsap.from(new SplitText("#faq h2",{type:"words, chars"}).chars,{stagger:.1,opacity:.3,scrollTrigger:{trigger:"#faq h2",start:"top 80%",end:"top 5%",scrub:1}}),document.querySelectorAll(".faq-question").forEach((e=>{e.addEventListener("click",(()=>{const t=e.nextElementSibling,o=e.querySelector(".icon");if(t.classList.contains("max-h-[200px]"))return t.classList.remove("max-h-[200px]","py-4"),void(o.textContent="+");document.querySelectorAll(".faq-answer").forEach((e=>{e.classList.remove("max-h-[200px]","py-4"),e.previousElementSibling.querySelector(".icon").textContent="+"})),t.classList.add("max-h-[200px]","py-4"),o.textContent="â€“"}))})),revealSection("#faq .faq-item"),document.querySelector("#year").innerHTML=(new Date).getFullYear();